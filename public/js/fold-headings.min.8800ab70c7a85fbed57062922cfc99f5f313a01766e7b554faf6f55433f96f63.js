document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("article.prose");if(!e)return;const t=Array.from(e.querySelectorAll("h2, h3"));t.forEach(e=>{const i=e.tagName.toLowerCase(),s=[];let n=e.nextElementSibling;for(;n&&!/^H[1-3]$/i.test(n.tagName);)s.push(n),n=n.nextElementSibling;if(s.length===0)return;const t=document.createElement("details");t.classList.add("fold-section",`fold-${i}`),e.id&&(t.id=e.id,e.removeAttribute("id"));const o=document.createElement("summary");o.classList.add("fold-summary",`fold-summary-${i}`),o.innerHTML=e.innerHTML,t.appendChild(o),s.forEach(e=>t.appendChild(e)),e.tagName==="H2"&&(t.open=!0),e.parentNode.insertBefore(t,e),e.remove()})})