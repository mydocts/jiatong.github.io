<!doctype html><html lang=en-US data-theme=default><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Translate-Paper | Jiatong Blog</title><meta name=description content="大模型微调实际应用(豆角不炖熟容易中毒!)"><meta name=keywords content="大模型,强化学习"><meta name=author content="Hugo Narrow"><meta name=language content="en-US"><meta name=robots content="index, follow"><link rel=canonical href=https://mydocts.github.io/jiatong.github.io/posts/translate/><link rel=icon type=image/svg+xml href=favicon.svg><link rel=manifest href=https://mydocts.github.io/jiatong.github.io/site.webmanifest><meta property="og:url" content="https://mydocts.github.io/jiatong.github.io/posts/translate/"><meta property="og:site_name" content="Jiatong Blog"><meta property="og:title" content="Translate-Paper"><meta property="og:description" content="大模型微调实际应用(豆角不炖熟容易中毒!)"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-12-23T00:00:00+00:00"><meta property="article:modified_time" content="2025-12-23T00:00:00+00:00"><meta property="article:tag" content="大模型"><meta property="article:tag" content="强化学习"><meta property="og:image" content="https://mydocts.github.io/jiatong.github.io/images/og-default.avif"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://mydocts.github.io/jiatong.github.io/images/og-default.avif"><meta name=twitter:title content="Translate-Paper"><meta name=twitter:description content="大模型微调实际应用(豆角不炖熟容易中毒!)"><meta itemprop=name content="Translate-Paper"><meta itemprop=description content="大模型微调实际应用(豆角不炖熟容易中毒!)"><meta itemprop=datePublished content="2025-12-23T00:00:00+00:00"><meta itemprop=dateModified content="2025-12-23T00:00:00+00:00"><meta itemprop=wordCount content="8247"><meta itemprop=image content="https://mydocts.github.io/jiatong.github.io/images/og-default.avif"><meta itemprop=keywords content="大模型,强化学习"><script>window.HUGO_SEARCH_CONFIG={searchIndexURL:'"/index.json"'}</script><script>window.HUGO_GALLERY_CONFIG={justified_gallery:!1,lightbox:!1,justified:'{"calculateitemsheight":false,"gutter":30,"lastrow":"center","maxrowscount":999999,"resizedebounce":100,"rowheight":300,"rowheighttolerance":0.25,"transitionduration":"0.3s"}',lightbox_options:'{"descposition":"bottom","draggable":true,"height":"80vh","loop":true,"preload":true,"touchnavigation":true,"width":"80vw","zoomable":true}'}</script><link rel=stylesheet href=https://mydocts.github.io/jiatong.github.io/css/compiled.min.0fdcf186a51cbe31d817748e6625893fdecb7c4081cdfd4c090e5b6864f6d4b8.css integrity="sha256-D9zxhqUcvjHYF3SOZiWJP97LfECBzf1MCQ5baGT21Lg=" crossorigin=anonymous><link rel=stylesheet href=https://mydocts.github.io/jiatong.github.io/css/chroma.min.491df36221f739b5948a747a0351f100ee7ccaaf466d9f46288bf06de1d59123.css integrity="sha256-SR3zYiH3ObWUinR6A1HxAO58yq9GbZ9GKIvwbeHVkSM=" crossorigin=anonymous><link rel=stylesheet href=https://mydocts.github.io/jiatong.github.io/css/custom/table-scroll.min.5b383174bbb66958447e4bcf95ca72a114556e2677ac27cfc602703fd5685f99.css integrity="sha256-WzgxdLu2aVhEfkvPlcpyoRRVbiZ3rCfPxgJwP9VoX5k=" crossorigin=anonymous><script src=https://mydocts.github.io/jiatong.github.io/js/main.ba969e49a7a874e6938fe689a7dcaa00cb64cb4d429c2cf98d09bde512a16c6d.js integrity="sha256-upaeSaeodOaTj+aJp9yqAMtky01CnCz5jQm95RKhbG0=" crossorigin=anonymous></script><script src=https://mydocts.github.io/jiatong.github.io/js/gumshoe.polyfills.min.js></script><script src=https://mydocts.github.io/jiatong.github.io/js/toc.660e1ba968c600238038998fa7b9f0b92a6db1e27f7983f0a3868da6e335c773.js integrity="sha256-Zg4bqWjGACOAOJmPp7nwuSptseJ/eYPwo4aNpuM1x3M=" crossorigin=anonymous defer></script><script src=https://mydocts.github.io/jiatong.github.io/js/search.de3eba3540834efb8328121784bff4774e06362412ee41eee665f5b4f987f393.js integrity="sha256-3j66NUCDTvuDKBIXhL/0d04GNiQS7kHu5mX1tPmH85M=" crossorigin=anonymous defer></script><script src=https://mydocts.github.io/jiatong.github.io/js/dock.e68dfcd7c5d37f18f40d8855905ee50c98c58f3b204d0ffb207d4956c987ead0.js integrity="sha256-5o3818XTfxj0DYhVkF7lDJjFjzsgTQ/7IH1JVsmH6tA=" crossorigin=anonymous defer></script><script>(function(){const e=localStorage.getItem("theme")||"system",n=localStorage.getItem("colorScheme")||"default";document.documentElement.setAttribute("data-theme",n);function t(){e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}t(),e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t)})()</script></head><body class="bg-background text-foreground min-h-screen antialiased"><div id=reading-progress-container class="reading-progress-container pointer-events-none fixed top-0 right-0 left-0 z-50 transition-opacity duration-300 ease-out" data-height=3 data-smooth-scroll=true data-hide-on-complete=false><div class="reading-progress-bg w-full"></div><div id=reading-progress-bar class="from-primary to-primary/80 reading-progress-bar
transition-all duration-150 ease-out
absolute top-0 left-0 w-0 bg-gradient-to-r"></div></div><script>(function(){"use strict";const t=document.getElementById("reading-progress-container"),o=document.getElementById("reading-progress-bar");if(!t||!o)return;const a={smoothScroll:t.dataset.smoothScroll==="true",hideOnComplete:t.dataset.hideOnComplete==="true"};let n=!0,l=null;function r(){const t=window.pageYOffset||document.documentElement.scrollTop,n=document.documentElement.scrollHeight,s=window.innerHeight,e=n-s;return e<=0?0:Math.min(Math.max(t/e*100,0),100)}function c(){const e=r();o.style.width=e+"%",a.hideOnComplete&&e>=99.5?n&&(t.style.opacity="0",n=!1):n||(t.style.opacity="1",n=!0)}let s=!1;function e(){s||(requestAnimationFrame(()=>{c(),s=!1}),s=!0)}function i(){window.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",e,{passive:!0}),document.addEventListener("visibilitychange",()=>{document.hidden||e()}),e(),window.addEventListener("beforeunload",()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i()})()</script><header class="mx-auto max-w-4xl px-4 py-6"><div class="border-border bg-card/80 flex items-center rounded-xl border px-6 py-4 shadow-sm backdrop-blur-sm"><div class="hidden w-full items-center md:flex"><div class="flex items-center"><a href=https://mydocts.github.io/jiatong.github.io/ class="flex h-10 w-10 items-center justify-center overflow-hidden rounded-full transition-transform duration-200 hover:scale-105" aria-label="Jiatong Blog"><img src=https://mydocts.github.io/jiatong.github.io/images/touxiang.jpg alt="Jiatong Blog" class="h-full w-full object-cover"></a></div><nav class="mx-8 flex flex-1 items-center justify-center"><div class="flex items-center space-x-1"><a href=https://mydocts.github.io/jiatong.github.io/posts/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" aria-label="nav.posts" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>
<span>Posts
</span></a><a href=https://mydocts.github.io/jiatong.github.io/categories/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" aria-label="nav.categories" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
<span>Categories
</span></a><a href=https://mydocts.github.io/jiatong.github.io/tags/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" aria-label="nav.tags" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512.0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828.0l-7-7A1.994 1.994.0 013 12V7a4 4 0 014-4z"/></svg>
<span>Tags
</span></a><a href=https://mydocts.github.io/jiatong.github.io/archives/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"><svg class="h-5 w-5" aria-label="nav.archives" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/></svg>
<span>Archives</span></a></div></nav><div class="flex items-center space-x-2"><div class=relative><button id=language-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=language aria-label="Switch language" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" aria-label="Switch language" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 8 6 6m-7 0 6-6 2-3M2 5h12M7 2h1m14 20-5-10-5 10m2-4h6"/></svg></button><div id=language-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=language role=menu aria-labelledby=language-toggle><a href=https://mydocts.github.io/jiatong.github.io/en/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem aria-current=true><span class=font-medium>English</span></a><a href=https://mydocts.github.io/jiatong.github.io/zh-cn/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem><span class=font-medium>简体中文</span></a></div></div><div class=relative><button id=color-scheme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=color-scheme aria-label="Toggle theme" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" aria-label="Toggle theme" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2V5z"/></svg></button><div id=color-scheme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=color-scheme><button data-color-scheme=default class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Default</span></button><button data-color-scheme=claude class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Claude</span></button><button data-color-scheme=bumblebee class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Bumblebee</span></button><button data-color-scheme=emerald class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Emerald</span></button><button data-color-scheme=nord class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Nord</span></button><button data-color-scheme=sunset class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Sunset</span></button><button data-color-scheme=abyss class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Abyss</span></button><button data-color-scheme=dracula class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Dracula</span></button><button data-color-scheme=amethyst class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Amethyst</span></button><button data-color-scheme=slate class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Slate</span></button><button data-color-scheme=twitter class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Twitter</span></button></div></div><div class=relative><button id=theme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=theme aria-label="Toggle theme" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 sun-icon hidden relative z-10" aria-label="Light" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
<svg class="h-5 w-5 moon-icon hidden relative z-10" aria-label="Dark" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg>
<svg class="h-5 w-5 system-icon hidden relative z-10" aria-label="System" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg></button><div id=theme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=theme><button data-theme=light class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><svg class="h-5 w-5 mr-3 h-4 w-4" aria-label="Light" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
<span>Light</span></button><button data-theme=dark class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><svg class="h-5 w-5 mr-3 h-4 w-4" aria-label="Dark" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg>
<span>Dark</span></button><button data-theme=system class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><svg class="h-5 w-5 mr-3 h-4 w-4" aria-label="System" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg>
<span>System</span></button></div></div></div></div><div class="flex w-full items-center justify-between md:hidden"><div class=relative><button id=mobile-menu-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:bg-accent hover:text-foreground flex h-10 w-10 items-center justify-center rounded-lg border transition-colors duration-200" data-dropdown-type=mobile-menu aria-label=Menu aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5" aria-label="Menu" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg></button><div id=mobile-menu class="mobile-menu dropdown-menu border-border bg-popover/95 absolute top-12 left-0 z-[60] hidden w-80 max-w-[calc(100vw-2rem)] rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out md:hidden" data-dropdown-type=mobile-menu role=menu aria-labelledby=mobile-menu-toggle><nav class="flex flex-col"><a href=https://mydocts.github.io/jiatong.github.io/posts/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" aria-label="nav.posts" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>
<span>Posts
</span></a><a href=https://mydocts.github.io/jiatong.github.io/categories/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" aria-label="nav.categories" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
<span>Categories
</span></a><a href=https://mydocts.github.io/jiatong.github.io/tags/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" aria-label="nav.tags" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512.0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828.0l-7-7A1.994 1.994.0 013 12V7a4 4 0 014-4z"/></svg>
<span>Tags
</span></a><a href=https://mydocts.github.io/jiatong.github.io/archives/ class="nav-link
text-muted-foreground hover:text-primary hover:bg-primary/10
focus:ring-primary/20 relative flex items-center gap-3 rounded-md px-4 py-3 text-sm font-medium transition-all duration-200 ease-out hover:translate-x-1 focus:ring-2 focus:outline-none" role=menuitem><svg class="h-5 w-5" aria-label="nav.archives" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/></svg>
<span>Archives</span></a></nav></div></div><div class="flex items-center space-x-2"><div class=relative><button id=language-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=language aria-label="Switch language" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" aria-label="Switch language" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 8 6 6m-7 0 6-6 2-3M2 5h12M7 2h1m14 20-5-10-5 10m2-4h6"/></svg></button><div id=language-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=language role=menu aria-labelledby=language-toggle><a href=https://mydocts.github.io/jiatong.github.io/en/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem aria-current=true><span class=font-medium>English</span></a><a href=https://mydocts.github.io/jiatong.github.io/zh-cn/ class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none" role=menuitem><span class=font-medium>简体中文</span></a></div></div><div class=relative><button id=color-scheme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=color-scheme aria-label="Toggle theme" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 relative z-10" aria-label="Toggle theme" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2V5z"/></svg></button><div id=color-scheme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=color-scheme><button data-color-scheme=default class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Default</span></button><button data-color-scheme=claude class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Claude</span></button><button data-color-scheme=bumblebee class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Bumblebee</span></button><button data-color-scheme=emerald class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Emerald</span></button><button data-color-scheme=nord class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Nord</span></button><button data-color-scheme=sunset class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Sunset</span></button><button data-color-scheme=abyss class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Abyss</span></button><button data-color-scheme=dracula class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Dracula</span></button><button data-color-scheme=amethyst class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Amethyst</span></button><button data-color-scheme=slate class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Slate</span></button><button data-color-scheme=twitter class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><span>Twitter</span></button></div></div><div class=relative><button id=theme-toggle class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95" data-dropdown-type=theme aria-label="Toggle theme" aria-expanded=false aria-haspopup=true>
<svg class="h-5 w-5 sun-icon hidden relative z-10" aria-label="Light" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
<svg class="h-5 w-5 moon-icon hidden relative z-10" aria-label="Dark" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg>
<svg class="h-5 w-5 system-icon hidden relative z-10" aria-label="System" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg></button><div id=theme-dropdown class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-40 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out" data-dropdown-type=theme><button data-theme=light class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><svg class="h-5 w-5 mr-3 h-4 w-4" aria-label="Light" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
<span>Light</span></button><button data-theme=dark class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><svg class="h-5 w-5 mr-3 h-4 w-4" aria-label="Dark" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg>
<span>Dark</span></button><button data-theme=system class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none"><svg class="h-5 w-5 mr-3 h-4 w-4" aria-label="System" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17 9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5A2 2 0 003 5v10a2 2 0 002 2z"/></svg>
<span>System</span></button></div></div></div></div></div></header><main class="mx-auto max-w-4xl px-4 py-6"><nav class="breadcrumb mb-4 md:mb-6 py-1" aria-label="Breadcrumb navigation"><ol class="text-muted-foreground flex items-center space-x-1 md:space-x-2 text-sm overflow-x-auto whitespace-nowrap scrollbar-hide py-1"><li class=flex-shrink-0><a href=https://mydocts.github.io/jiatong.github.io/ class="text-muted-foreground hover:text-primary hover:bg-primary/10 flex items-center gap-0.5 md:gap-1 rounded-lg px-1 md:px-3 py-0.5 md:py-1.5 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-[1.02]"><svg class="h-4 w-4" aria-label="Home" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m3 12 2-2m0 0 7-7 7 7M5 10v10a1 1 0 001 1h3m10-11 2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
<span class="max-w-[4rem] md:max-w-none truncate">Home</span></a></li><li class="flex items-center gap-1 md:gap-2 min-w-0"><span class="text-muted-foreground/50 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></span><div class="flex items-center gap-1 md:gap-2 min-w-0"><a href=https://mydocts.github.io/jiatong.github.io/posts class="text-muted-foreground hover:text-primary hover:bg-primary/10 flex items-center gap-0.5 md:gap-1 rounded-lg px-1 md:px-3 py-0.5 md:py-1.5 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-[1.02] flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>
<span class="max-w-[3rem] md:max-w-none truncate">Posts</span>
</a><span class="text-muted-foreground/50 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></span>
<span class="text-foreground flex items-center gap-0.5 md:gap-1 font-medium min-w-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
<span class="max-w-[8rem] md:max-w-[16rem] lg:max-w-none truncate">Translate-Paper</span></span></div></li></ol></nav><header class=mb-8><div class=post-meta><h1 class="text-foreground mb-6 text-3xl leading-tight font-bold md:text-4xl">Translate-Paper</h1><div class="bg-card border-border flex flex-col gap-4 rounded-xl border p-6"><div class="text-muted-foreground flex flex-wrap items-center gap-4 text-sm"><div class="flex items-center gap-2"><svg class="h-4 w-4" aria-label="Published on" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg>
<time datetime=2025-12-23>December 23, 2025</time></div><div class="flex items-center gap-2"><svg class="h-4 w-4" aria-label="Reading time" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3A9 9 0 113 12a9 9 0 0118 0z"/></svg>
<span>17 minute</span></div><div class="flex items-center gap-2"><svg class="h-4 w-4" aria-label="Word count" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"/></svg>
<span>8247 words</span></div></div><div class="flex flex-wrap items-center gap-4"><div class="flex items-center gap-2"><svg class="h-4 w-4" aria-label="Categories" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5A2 2 0 003 7z"/></svg>
<span class="text-muted-foreground mr-2 text-sm">Categories:</span><div class="flex flex-wrap gap-2"><a href=https://mydocts.github.io/jiatong.github.io/categories/%E5%8D%9A%E5%AE%A2/ class="bg-primary/10 text-primary hover:bg-primary/20 focus:ring-primary/20 inline-flex items-center rounded-full px-3 py-1 text-sm font-medium transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-105 hover:shadow-md focus:ring-2 focus:outline-none">博客</a></div></div><div class="flex items-center gap-2"><svg class="h-4 w-4" aria-label="Tags" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M12.586 2.586A2 2 0 0011.172 2H4A2 2 0 002 4v7.172a2 2 0 00.586 1.414l8.704 8.704a2.426 2.426.0 003.42.0l6.58-6.58a2.426 2.426.0 000-3.42z"/><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"/></g></svg>
<span class="text-muted-foreground mr-2 text-sm">Tags:</span><div class="flex flex-wrap gap-2"><a href=https://mydocts.github.io/jiatong.github.io/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/ class="bg-muted/50 text-muted-foreground hover:bg-primary/10 hover:text-primary focus:ring-primary/20 inline-flex items-center rounded px-2 py-1 text-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none">#大模型
</a><a href=https://mydocts.github.io/jiatong.github.io/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/ class="bg-muted/50 text-muted-foreground hover:bg-primary/10 hover:text-primary focus:ring-primary/20 inline-flex items-center rounded px-2 py-1 text-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none">#强化学习</a></div></div></div></div></div></header><article class="prose prose-neutral dark:prose-invert mb-12 max-w-none"><h3 id=项目背景>项目背景</h3><p><strong>目标</strong>：构建一个专注于将英文论文翻译为流畅中文的垂直领域小模型。</p><p><strong>痛点分析</strong>：</p><ul><li><strong>现有工具问题</strong>：传统的翻译工具（如 Google Translate）往往过于直译，缺乏学术语境的润色，读起来拗口。</li><li><strong>大模型限制</strong>：SOTA 大模型（如 GPT-4）效果好但 API 成本高，且并发受限，不适合大规模文档处理。</li></ul><p><strong>项目方案</strong>：</p><ul><li><strong>核心策略</strong>：基于开源小模型（如 Qwen系列）进行指令微调（SFT）和偏好对齐（DPO）。</li><li><strong>优势</strong>：实现低成本、高并发的本地化部署，同时通过垂直数据训练保证专业术语准确和表达流畅。</li></ul><h3 id=整体流程>整体流程</h3><p><figure class="image-figure not-prose my-8" data-lightbox-enabled=false data-gallery-type=auto><div class=image-container><img src=https://mydocts.github.io/jiatong.github.io/posts/translate/data_filter.png alt=数据过滤流程 width=3622 height=503 loading=lazy decoding=async data-gallery-src=https://mydocts.github.io/jiatong.github.io/posts/translate/data_filter.png data-gallery-alt=数据过滤流程 data-gallery-title></div></figure></p><p><figure class="image-figure not-prose my-8" data-lightbox-enabled=false data-gallery-type=auto><div class=image-container><img src=https://mydocts.github.io/jiatong.github.io/posts/translate/process_new.png alt=整体流程 width=4062 height=1737 loading=lazy decoding=async data-gallery-src=https://mydocts.github.io/jiatong.github.io/posts/translate/process_new.png data-gallery-alt=整体流程 data-gallery-title></div></figure></p><h3 id=数据工程>数据工程</h3><h4 id=数据集构建策略>数据集构建策略</h4><ul><li><strong>Teacher-Student 蒸馏</strong>：利用 SOTA 模型生成高质量翻译作为“金标准”。<ul><li><em>Prompt 技巧</em>：要求模型“先直译，再意译，最后润色”，或者使用 &ldquo;Chain of Thought&rdquo; 让模型解释术语。</li></ul></li><li><strong>多模型采样</strong>：使用 Qwen不同参数量的模型生成候选结果，通过人工或模型（LLM-as-a-Judge）筛选最佳答案。</li><li><strong>坏例修正 (Self-Correction)</strong>：针对 Bad Case 修改 Prompt 重新生成，加入微调数据集。</li><li><strong>SFT数据集</strong>:<ul><li><strong>收集原文:</strong> 近一年arxiv论文->随机筛选2w篇->每篇随机筛选一页->dot.ocr提取文本提出reference后的页数->每页按段落切分文档，选择字数小于512单词的数据</li><li><strong>构造翻译prompt</strong> :尝试不同格式提示词（直接翻译，cot分析翻译，think模式翻译）以及不同的模型（qwen3-0.6B，qwen3-1.7B，qwen3-8B，qwen3-32B）；挑选AI领域段落（个人比较熟悉），人工gsb逐轮次迭代prompt要求（eg：见下面的翻译规范要求）</li><li><strong>构造样本:</strong> 利用得到的最好的prompt和相对较大的模型（qwen3-32B）去生成sft数据</li></ul></li></ul><h4 id=翻译规范要求>翻译规范要求</h4><ul><li><strong>信息无损</strong>：严禁漏译核心观点。</li><li><strong>格式保留</strong>：Markdown 格式、LaTeX 公式、引用链接必须原样保留。</li><li><strong>术语一致</strong>：建立专有名词词表（Glossary），确保 &ldquo;Attention&rdquo; 翻译为 &ldquo;注意力&rdquo; 而不是 &ldquo;关注&rdquo;。</li></ul><h4 id=dpo-数据筛选与构建-pair-构造>DPO 数据筛选与构建 (Pair 构造)</h4><ul><li><strong>Chosen (参考翻译)</strong>：利用得到的最好的prompt和相对较大的模型（qwen3-32B）去生成sft数据</li><li><strong>Rejected (候选翻译)</strong>：SFT后的模型进行翻译（约2w条）->过滤bleu&lt;0.85的样本(约1.8w条)) -> DPO训练<ul><li>经过SFT后的输出大部分在0.5上下，我们这里过滤设置为0.85就是认为小于0.85的都算作rejected样本，目的是想让模型尽可能向参考翻译学习</li><li>如果bleu设置小一些，例如0.5。模型本来生成的分数就在这个分数段，没有太大意义。我们想让模型区分什么是好样本，什么是坏样本。所谓的好样本，应该是和参考翻译很贴近。</li></ul></li></ul><h2 id=评估>评估</h2><h3 id=最终结果评估>最终结果评估</h3><table><thead><tr><th style=text-align:left>评估指标</th><th style=text-align:left>描述</th><th style=text-align:left>备注</th></tr></thead><tbody><tr><td style=text-align:left><strong>BLEU</strong></td><td style=text-align:left>基础语义对齐评估</td><td style=text-align:left>核心是与人对齐。大模型无法解决"拗口"的问题，有时候大模型给一段话评分很高，但人读起来比较费解。</td></tr><tr><td style=text-align:left><strong>GSB (Good/Same/Bad)</strong></td><td style=text-align:left>人工或模型对比评估</td><td style=text-align:left>人工评价翻译质量的相对优劣</td></tr></tbody></table><h4 id=bleu-计算详解>BLEU 计算详解</h4><p><strong>BLEU (Bilingual Evaluation Understudy)</strong> 是机器翻译领域最常用的自动评估指标，通过计算候选翻译与参考翻译之间的 n-gram 重合度来衡量翻译质量。</p><p><strong>计算公式：</strong></p>$$
BLEU = BP \cdot \exp\left(\sum_{n=1}^{N} w_n \log p_n\right)
$$<p>其中：</p><ul><li>$p_n$ 是 <strong>n-gram 精确率</strong>：候选翻译中与参考翻译匹配的 n-gram 数量 / 候选翻译中的 n-gram 总数</li><li>$w_n$ 是权重，通常取 $w_n = \frac{1}{N}$（均匀权重）</li><li>$BP$ 是 <strong>短句惩罚因子 (Brevity Penalty)</strong>，防止模型通过生成过短的翻译来"作弊"：</li></ul>$$
BP = \begin{cases} 1 & \text{if } c > r \\\\ e^{1 - r/c} & \text{if } c \leq r \end{cases}
$$<p>其中 $c$ 是候选翻译长度，$r$ 是参考翻译长度。</p><p><strong>计算示例：</strong></p><p>假设：</p><ul><li><strong>参考翻译 (Reference)</strong>：<code>the cat sat on the mat</code></li><li><strong>候选翻译 (Candidate)</strong>：<code>the cat on the mat</code></li></ul><p><strong>Step 1: 计算各阶 n-gram 精确率</strong></p><table><thead><tr><th style=text-align:left>n-gram</th><th style=text-align:left>候选翻译中的 n-gram</th><th style=text-align:left>匹配数</th><th style=text-align:left>总数</th><th style=text-align:left>精确率$p_n$</th></tr></thead><tbody><tr><td style=text-align:left>1-gram</td><td style=text-align:left>the, cat, on, the, mat</td><td style=text-align:left>5</td><td style=text-align:left>5</td><td style=text-align:left>5/5 = 1.0</td></tr><tr><td style=text-align:left>2-gram</td><td style=text-align:left>the cat, cat on, on the, the mat</td><td style=text-align:left>3</td><td style=text-align:left>4</td><td style=text-align:left>3/4 = 0.75</td></tr><tr><td style=text-align:left>3-gram</td><td style=text-align:left>the cat on, cat on the, on the mat</td><td style=text-align:left>1</td><td style=text-align:left>3</td><td style=text-align:left>1/3 ≈ 0.33</td></tr><tr><td style=text-align:left>4-gram</td><td style=text-align:left>the cat on the, cat on the mat</td><td style=text-align:left>0</td><td style=text-align:left>2</td><td style=text-align:left>0/2 = 0.0</td></tr></tbody></table><p><strong>Step 2: 计算短句惩罚</strong></p><ul><li>候选长度 $c = 5$，参考长度 $r = 6$</li><li>因为 $c < r$，所以 $BP = e^{1 - 6/5} = e^{-0.2} \approx 0.819$</li></ul><p><strong>Step 3: 计算 BLEU-4</strong></p>$$
BLEU = 0.819 \times \exp\left(\frac{1}{4}(\log 1.0 + \log 0.75 + \log 0.33 + \log 0.0)\right)
$$<blockquote class="border-primary bg-muted/30 hover:bg-muted/40 my-6 rounded-r-lg border-l-4 py-4 pr-4 pl-6 italic transition-all duration-200 ease-out hover:translate-x-1"><div class="prose prose-sm max-w-none"><p>注意：由于 4-gram 精确率为 0，$\log 0 = -\infty$，导致 BLEU = 0。实际应用中会使用<strong>平滑技术</strong>避免这种情况。</p></div></blockquote><script>function toggleAlert(e){const t=document.getElementById(e+"-content"),n=document.getElementById(e+"-chevron"),s=t.previousElementSibling;t.classList.contains("hidden")?(t.classList.remove("hidden"),n.style.transform="rotate(0deg)",s.setAttribute("aria-expanded","true")):(t.classList.add("hidden"),n.style.transform="rotate(-90deg)",s.setAttribute("aria-expanded","false"))}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".alert-content.hidden");e.forEach(function(e){const n=e.id.replace("-content",""),t=document.getElementById(n+"-chevron");t&&(t.style.transform="rotate(-90deg)")})})</script><p><strong>Python 代码实现：</strong></p><div class="code-block-container border-border bg-card my-6 overflow-hidden rounded-xl border shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"><div class="code-block-header bg-muted/30 border-border flex items-center justify-between border-b px-4 py-3"><div class="flex items-center gap-2"><div class="text-muted-foreground flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4 4 4-4 4M6 16l-4-4 4-4"/></svg></div><span class="text-muted-foreground text-sm font-medium">PYTHON</span></div><div class="flex items-center gap-2"><button class="collapse-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-0 data-default-state=expanded data-collapsed=false data-auto-collapse-lines=30 data-auto-collapse-height=400 data-collapsed-height=120 title=Collapse aria-label=Collapse>
<span class=collapse-icon><svg class="h-3 w-3" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
</span><span class="collapse-text hidden sm:inline">Collapse</span>
</button>
<button class="copy-code-btn text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex items-center gap-1.5 rounded-md px-2 py-1 text-xs font-medium transition-all duration-200 ease-out focus:ring-2 focus:outline-none" data-code-id=code-0 title=Copy aria-label=Copy>
<span class=copy-icon><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
</span><span class="copy-text hidden sm:inline">Copy</span></button></div></div><div class="code-block-content relative" id=code-0><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>collections</span> <span class=kn>import</span> <span class=n>Counter</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>math</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>calculate_bleu</span><span class=p>(</span><span class=n>reference</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>candidate</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>max_n</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>4</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    计算 BLEU 分数
</span></span></span><span class=line><span class=cl><span class=s2>  
</span></span></span><span class=line><span class=cl><span class=s2>    Args:
</span></span></span><span class=line><span class=cl><span class=s2>        reference: 参考翻译
</span></span></span><span class=line><span class=cl><span class=s2>        candidate: 候选翻译
</span></span></span><span class=line><span class=cl><span class=s2>        max_n: 最大 n-gram 阶数，默认为 4
</span></span></span><span class=line><span class=cl><span class=s2>  
</span></span></span><span class=line><span class=cl><span class=s2>    Returns:
</span></span></span><span class=line><span class=cl><span class=s2>        BLEU 分数 (0-1)
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>ref_tokens</span> <span class=o>=</span> <span class=n>reference</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>cand_tokens</span> <span class=o>=</span> <span class=n>candidate</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=c1># 计算各阶 n-gram 精确率</span>
</span></span><span class=line><span class=cl>    <span class=n>precisions</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>n</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>max_n</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 提取 n-grams</span>
</span></span><span class=line><span class=cl>        <span class=n>ref_ngrams</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>([</span><span class=nb>tuple</span><span class=p>(</span><span class=n>ref_tokens</span><span class=p>[</span><span class=n>i</span><span class=p>:</span><span class=n>i</span><span class=o>+</span><span class=n>n</span><span class=p>])</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>ref_tokens</span><span class=p>)</span> <span class=o>-</span> <span class=n>n</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)])</span>
</span></span><span class=line><span class=cl>        <span class=n>cand_ngrams</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>([</span><span class=nb>tuple</span><span class=p>(</span><span class=n>cand_tokens</span><span class=p>[</span><span class=n>i</span><span class=p>:</span><span class=n>i</span><span class=o>+</span><span class=n>n</span><span class=p>])</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>cand_tokens</span><span class=p>)</span> <span class=o>-</span> <span class=n>n</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)])</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>        <span class=c1># 计算匹配数（带裁剪）</span>
</span></span><span class=line><span class=cl>        <span class=n>matches</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=nb>min</span><span class=p>(</span><span class=n>cand_ngrams</span><span class=p>[</span><span class=n>ng</span><span class=p>],</span> <span class=n>ref_ngrams</span><span class=p>[</span><span class=n>ng</span><span class=p>])</span> <span class=k>for</span> <span class=n>ng</span> <span class=ow>in</span> <span class=n>cand_ngrams</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>total</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>cand_ngrams</span><span class=o>.</span><span class=n>values</span><span class=p>())</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>        <span class=c1># 平滑处理：避免 log(0)</span>
</span></span><span class=line><span class=cl>        <span class=n>precision</span> <span class=o>=</span> <span class=p>(</span><span class=n>matches</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>/</span> <span class=p>(</span><span class=n>total</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=k>if</span> <span class=n>total</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=k>else</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=n>precisions</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>precision</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=c1># 计算几何平均</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=mi>0</span> <span class=ow>in</span> <span class=n>precisions</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mf>0.0</span>
</span></span><span class=line><span class=cl>    <span class=n>log_precision</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>math</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>p</span><span class=p>)</span> <span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>precisions</span><span class=p>)</span> <span class=o>/</span> <span class=n>max_n</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=c1># 计算短句惩罚 (Brevity Penalty)</span>
</span></span><span class=line><span class=cl>    <span class=n>c</span><span class=p>,</span> <span class=n>r</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>cand_tokens</span><span class=p>),</span> <span class=nb>len</span><span class=p>(</span><span class=n>ref_tokens</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>bp</span> <span class=o>=</span> <span class=mi>1</span> <span class=k>if</span> <span class=n>c</span> <span class=o>&gt;</span> <span class=n>r</span> <span class=k>else</span> <span class=n>math</span><span class=o>.</span><span class=n>exp</span><span class=p>(</span><span class=mi>1</span> <span class=o>-</span> <span class=n>r</span> <span class=o>/</span> <span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>bp</span> <span class=o>*</span> <span class=n>math</span><span class=o>.</span><span class=n>exp</span><span class=p>(</span><span class=n>log_precision</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 使用示例</span>
</span></span><span class=line><span class=cl><span class=n>reference</span> <span class=o>=</span> <span class=s2>&#34;the cat sat on the mat&#34;</span>
</span></span><span class=line><span class=cl><span class=n>candidate</span> <span class=o>=</span> <span class=s2>&#34;the cat on the mat&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>bleu_score</span> <span class=o>=</span> <span class=n>calculate_bleu</span><span class=p>(</span><span class=n>reference</span><span class=p>,</span> <span class=n>candidate</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;BLEU Score: </span><span class=si>{</span><span class=n>bleu_score</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 输出: BLEU Score: 0.4647 (使用平滑后的结果)</span></span></span></code></pre></div><div class="collapse-overlay to-card/90 pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent opacity-0 transition-opacity duration-300"><div class="text-muted-foreground bg-card/80 border-border/50 hover:bg-primary/10 hover:text-primary hover:border-primary/30 absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer rounded-full border px-3 py-1.5 text-xs backdrop-blur-sm transition-all duration-200">Click to expand and view more</div></div></div></div><script>(function(){const s="code-0",n=document.querySelector('.copy-code-btn[data-code-id="'+s+'"]'),t=document.querySelector('.collapse-code-btn[data-code-id="'+s+'"]'),e=document.getElementById(s);if(!e)return;if(n){const s=n.querySelector(".copy-icon"),t=n.querySelector(".copy-text");n.addEventListener("click",async function(){try{let o="";const i=e.querySelector(".lntd:last-child code");if(i)o=i.textContent||i.innerText;else{const t=e.querySelector("code");if(t){const e=t.querySelector(".ln");if(e){const e=t.querySelectorAll(".cl");if(e.length>0)o=Array.from(e).map(e=>{const t=e.textContent||e.innerText;return t.replace(/\n+$/,"")}).join(`
`).replace(/\n+$/,"");else{const e=t.textContent||t.innerText;o=e.replace(/^\d+/gm,"").replace(/^\s+/gm,"")}}else o=t.textContent||t.innerText}else o=e.textContent||e.innerText}o=o.trim(),await navigator.clipboard.writeText(o),s.innerHTML=`<svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
</svg>`,t&&(t.textContent="Copied"),n.classList.add("text-green-600"),setTimeout(()=>{s.innerHTML=`<svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
</svg>`,t&&(t.textContent="Copy"),n.classList.remove("text-green-600")},2e3)}catch(o){console.error("复制失败:",o);const s=document.createRange(),i=e.querySelector("code")||e;s.selectNodeContents(i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s),t&&(t.textContent="Selected"),setTimeout(()=>{t&&(t.textContent="Copy"),n.removeAllRanges()},2e3)}})}if(t){const d=t.querySelector(".collapse-icon"),c=t.querySelector(".collapse-text"),n=e.querySelector(".collapse-overlay");let s=e.querySelector("pre.chroma");s||(s=e.querySelector("pre"));const m=t.dataset.defaultState||"expanded",f=t.dataset.collapsed==="true",u=parseInt(t.dataset.autoCollapseLines)||30,h=parseInt(t.dataset.autoCollapseHeight)||400,p=parseInt(t.dataset.collapsedHeight)||120;let l=!1;function i(){const e=f||m==="collapsed"||a();e&&o(!0,!1)}function a(){if(s){const e=s.querySelectorAll(".line, .cl"),t=s.offsetHeight;return e.length>u||t>h}const t=e.offsetHeight;if(t>h)return!0;const n=e.textContent||e.innerText||"",o=n.split(`
`).length;return o>u}function o(s,o=!0){if(!n)return;l=s,s?(e.style.maxHeight=p+"px",e.style.overflow="hidden",n.style.opacity="1",n.style.pointerEvents="auto",d.innerHTML=`<svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
</svg>`,c&&(c.textContent="Expand"),t.title="Expand"):(e.style.maxHeight="",e.style.overflow="",n.style.opacity="0",n.style.pointerEvents="none",d.innerHTML=`<svg class="h-3 w-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z"/></svg>`,c&&(c.textContent="Collapse"),t.title="Collapse"),o&&(e.style.transition="max-height 0.3s ease-out",setTimeout(()=>{e.style.transition=""},300))}function r(){o(!l,!0)}t.addEventListener("click",r),n&&n.addEventListener("click",()=>{l&&o(!1,!0)}),i()}})()</script><blockquote class="border-primary bg-muted/30 hover:bg-muted/40 my-6 rounded-r-lg border-l-4 py-4 pr-4 pl-6 italic transition-all duration-200 ease-out hover:translate-x-1"><div class="prose prose-sm max-w-none"><p><strong>实践建议</strong>：在实际项目中推荐使用 <code>sacrebleu</code> 或 <code>nltk.translate.bleu_score</code> 等成熟库，它们实现了更完善的平滑策略和多参考翻译支持。</p></div></blockquote><script>function toggleAlert(e){const t=document.getElementById(e+"-content"),n=document.getElementById(e+"-chevron"),s=t.previousElementSibling;t.classList.contains("hidden")?(t.classList.remove("hidden"),n.style.transform="rotate(0deg)",s.setAttribute("aria-expanded","true")):(t.classList.add("hidden"),n.style.transform="rotate(-90deg)",s.setAttribute("aria-expanded","false"))}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".alert-content.hidden");e.forEach(function(e){const n=e.id.replace("-content",""),t=document.getElementById(n+"-chevron");t&&(t.style.transform="rotate(-90deg)")})})</script><h3 id=效果评估>效果评估</h3><h4 id=bleu-分数对比>BLEU 分数对比</h4><table><thead><tr><th style=text-align:left>Checkpoint</th><th style=text-align:left>BLEU 分数</th></tr></thead><tbody><tr><td style=text-align:left>base模型</td><td style=text-align:left>0.2843</td></tr><tr><td style=text-align:left>sft模型, lora-rank=8, lora alpha=32</td><td style=text-align:left>0.5092</td></tr><tr><td style=text-align:left>全参数微调</td><td style=text-align:left>0.5614</td></tr><tr><td style=text-align:left>dpo训练</td><td style=text-align:left>0.5710</td></tr><tr><td style=text-align:left>grpo-checkpoint-1500</td><td style=text-align:left>0.5921</td></tr></tbody></table><h4 id=gsb-人工评估对比>GSB 人工评估对比</h4><table><thead><tr><th style=text-align:left>对比</th><th style=text-align:left>GSB</th></tr></thead><tbody><tr><td style=text-align:left>sft vs base</td><td style=text-align:left>100%: 0%: 0%</td></tr><tr><td style=text-align:left>grpo vs sft</td><td style=text-align:left>87%: 13%: 0%</td></tr></tbody></table><h3 id=过程评估>过程评估</h3><table><thead><tr><th style=text-align:left>评估维度</th><th style=text-align:left>方法</th><th style=text-align:left>说明</th></tr></thead><tbody><tr><td style=text-align:left><strong>幻觉率评估</strong></td><td style=text-align:left>大模型评估</td><td style=text-align:left>大部分翻译问题可由 Prompt 解决，幻觉问题更多要从训练数据层面入手</td></tr></tbody></table><h4 id=效果展示>效果展示</h4><details><summary><strong>📄 点击展开：翻译效果对比示例</strong></summary><p><strong>原文 (English)</strong></p><blockquote class="border-primary bg-muted/30 hover:bg-muted/40 my-6 rounded-r-lg border-l-4 py-4 pr-4 pl-6 italic transition-all duration-200 ease-out hover:translate-x-1"><div class="prose prose-sm max-w-none"><p>Fig. 5: Stiffness modulation controls collision forces. The plot shows the contact force over time as the robot&rsquo;s hand collides with a tower of blocks. By commanding different stiffness levels, our policy can produce low, controlled forces (blue) or high, potentially destructive forces (red), showcasing a direct trade-off between safety and posture tracking accuracy.</p><p>External force profile. Note that the policy directly observes neither the wrench nor displacement information, but can make inferences about them based on proprioceptive sensing. For an impedance strategy, the end-effector pose can be inferred from the joint positions $q_{t}$ and root orientation $g_{t}^{b}$ via forward kinematics. For an admittance strategy, the external wrench can be inferred from the robot&rsquo;s dynamics, using observations of previous joint position $q_{t-1}$, joint position target $a_{t-1}$, joint velocity $\dot{q}_{t-1}$, and joint accelerations.</p><p>Command Sampling and Force Field Dynamics. Training episodes consist of sampling a motion clip, a desired robot stiffness, and an external force profile. The external force is implemented as a &lsquo;force field&rsquo; which pulls a selected link of the robot towards a moving setpoint with a distance-proportional force according to a randomized environment stiffness $K_{\mathrm{env}}$.</p><p>Stiffness Bounds: When sensing and dynamics are noisy and the robot&rsquo;s state is only partially observable, inferences about pose and wrench also become noisy. This noise makes realizing highly sensitive responses, including extremely low or high stiffnesses, infeasible.</p></div></blockquote><script>function toggleAlert(e){const t=document.getElementById(e+"-content"),n=document.getElementById(e+"-chevron"),s=t.previousElementSibling;t.classList.contains("hidden")?(t.classList.remove("hidden"),n.style.transform="rotate(0deg)",s.setAttribute("aria-expanded","true")):(t.classList.add("hidden"),n.style.transform="rotate(-90deg)",s.setAttribute("aria-expanded","false"))}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".alert-content.hidden");e.forEach(function(e){const n=e.id.replace("-content",""),t=document.getElementById(n+"-chevron");t&&(t.style.transform="rotate(-90deg)")})})</script><hr><p><strong>Base 模型翻译结果</strong> ❌</p><blockquote class="border-primary bg-muted/30 hover:bg-muted/40 my-6 rounded-r-lg border-l-4 py-4 pr-4 pl-6 italic transition-all duration-200 ease-out hover:translate-x-1"><div class="prose prose-sm max-w-none"><p>Fig. 5: Stiffness modulation controls collision forces. The plot shows the contact force over time as the robot&rsquo;s hand collides with a tower of blocks. By commanding different stiffness levels, our policy can produce low, controlled forces (blue) or high, potentially destructive forces (red), showcasing a direct trade-off between safety and posture tracking accuracy.</p><p>external force profile. Note that the policy directly observes neither the wrench nor displacement information, but can make inferences about them based on proprioceptive sensing&mldr;</p><p><em>(Base模型基本保持原文，未进行有效翻译)</em></p></div></blockquote><script>function toggleAlert(e){const t=document.getElementById(e+"-content"),n=document.getElementById(e+"-chevron"),s=t.previousElementSibling;t.classList.contains("hidden")?(t.classList.remove("hidden"),n.style.transform="rotate(0deg)",s.setAttribute("aria-expanded","true")):(t.classList.add("hidden"),n.style.transform="rotate(-90deg)",s.setAttribute("aria-expanded","false"))}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".alert-content.hidden");e.forEach(function(e){const n=e.id.replace("-content",""),t=document.getElementById(n+"-chevron");t&&(t.style.transform="rotate(-90deg)")})})</script><hr><p><strong>SFT 模型翻译结果</strong> ✅</p><blockquote class="border-primary bg-muted/30 hover:bg-muted/40 my-6 rounded-r-lg border-l-4 py-4 pr-4 pl-6 italic transition-all duration-200 ease-out hover:translate-x-1"><div class="prose prose-sm max-w-none"><p>图5：刚度调节控制碰撞力。该图展示了机器人手部与一排积木碰撞时的接触力随时间的变化。通过调节不同的刚度水平，我们的策略可以产生低、可控的力（蓝色）或高、可能造成破坏的力（红色），体现了安全性和姿态跟踪精度之间的直接权衡。</p><p>外部力场的设定。注意，该策略并不直接观测力环（wrench）或位移信息，而是利用本体感觉（proprioceptive sensing）对它们进行推断。对于阻抗策略（impedance strategy），末端执行器的姿态可通过关节位置 $q_{t}$ 和根部姿态 $g_{t}^{b}$ 通过前向运动学（forward kinematics）推断得到。对于通量（admittance）策略，外部力环可通过机器人动力学推断。</p><p><strong>运动控制采样与力场动力学</strong>。训练数据集包含一个运动片段、一个期望的刚度值和一个外部力场轮廓。外部力场被实现为一种"力场"（force field），根据随机环境的刚度 $K_{\mathrm{env}}$，以距离成正比的方式施加一个拉力。</p><p><strong>刚度范围</strong>：当感知和动力学信息存在噪声，且机器人状态仅部分可观测时，关于位姿和力环的推断也会产生噪声。这种噪声使得实现高度敏感的响应——包括极低或极高刚度——变得不可行。</p></div></blockquote><script>function toggleAlert(e){const t=document.getElementById(e+"-content"),n=document.getElementById(e+"-chevron"),s=t.previousElementSibling;t.classList.contains("hidden")?(t.classList.remove("hidden"),n.style.transform="rotate(0deg)",s.setAttribute("aria-expanded","true")):(t.classList.add("hidden"),n.style.transform="rotate(-90deg)",s.setAttribute("aria-expanded","false"))}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".alert-content.hidden");e.forEach(function(e){const n=e.id.replace("-content",""),t=document.getElementById(n+"-chevron");t&&(t.style.transform="rotate(-90deg)")})})</script><hr><p><strong>DPO 模型翻译结果</strong> ✅✅</p><blockquote class="border-primary bg-muted/30 hover:bg-muted/40 my-6 rounded-r-lg border-l-4 py-4 pr-4 pl-6 italic transition-all duration-200 ease-out hover:translate-x-1"><div class="prose prose-sm max-w-none"><p>图5：刚度调节控制碰撞力。图中展示了机器人手部与积木塔碰撞时接触力随时间的变化。通过设定不同的刚度水平，我们的策略可以产生较低且可控的力（蓝色），或较高且可能具有破坏性的力（红色），体现了安全性与姿态跟踪精度之间的直接权衡。</p><p>外部力的分布。需要注意的是，策略并未直接观测到力矩（wrench）或位移信息，而是基于本体感知（proprioceptive sensing）进行推断。对于阻抗控制策略（impedance strategy），末端执行器的位姿可通过前向运动学，由关节位置 $q_{t}$ 和根部方向 $g_{t}^{b}$ 推算得出。对于导纳控制策略（admittance strategy），外部力矩（external wrench）则可通过机器人动力学模型推断。</p><p><strong>指令采样与力场动力学</strong>。训练阶段的每个episode包含采样一个运动片段、期望的机器人刚度，以及一个外部力分布。外部力通过"力场"（force field）实现，根据随机环境刚度 $K_{\mathrm{env}}$ 施加与距离成正比的拉力。</p><p><strong>刚度边界</strong>：当传感和动力学存在噪声，且机器人状态仅部分可观测时，对位姿和力矩的推断也会产生噪声。这种噪声使得实现极高灵敏度的响应——包括极低或极高的刚度——变得不可行。</p></div></blockquote><script>function toggleAlert(e){const t=document.getElementById(e+"-content"),n=document.getElementById(e+"-chevron"),s=t.previousElementSibling;t.classList.contains("hidden")?(t.classList.remove("hidden"),n.style.transform="rotate(0deg)",s.setAttribute("aria-expanded","true")):(t.classList.add("hidden"),n.style.transform="rotate(-90deg)",s.setAttribute("aria-expanded","false"))}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".alert-content.hidden");e.forEach(function(e){const n=e.id.replace("-content",""),t=document.getElementById(n+"-chevron");t&&(t.style.transform="rotate(-90deg)")})})</script><hr><p><strong>GRPO 模型翻译结果</strong> ✅✅✅</p><blockquote class="border-primary bg-muted/30 hover:bg-muted/40 my-6 rounded-r-lg border-l-4 py-4 pr-4 pl-6 italic transition-all duration-200 ease-out hover:translate-x-1"><div class="prose prose-sm max-w-none"><p>图5：刚度调节控制碰撞力。图中展示了机器人手部撞击积木塔时接触力随时间的变化。通过设定不同的刚度水平，我们的策略可产生较低且可控的力（蓝色），或较高且可能造成破坏的力（红色），体现出安全性与姿态跟踪精度之间的直接权衡。</p><p>外部力的分布情况。需要注意的是，策略并未直接观测到广义力（wrench）或位移信息，而是基于本体感知（proprioceptive sensing）进行推断。对于阻抗控制策略（impedance strategy），末端执行器的位姿可通过前向运动学，由关节位置 $q_{t}$ 和根节点方向 $g_{t}^{b}$ 推算得出。而对于导纳控制策略（admittance strategy），外部广义力（external wrench）则可通过机器人动力学模型推断。</p><p><strong>指令采样与力场动态</strong>。训练阶段的每个episode包含采样一个运动片段、期望的机器人刚度，以及一个外部力分布。外部力通过"力场"（force field）实现，即对机器人某一指定连杆施加一个与距离成正比的拉力，使其趋向于一个移动的目标点。</p><p><strong>刚度边界</strong>（Stiffness Bounds）：当传感和动力学存在噪声，且机器人状态仅为部分可观测时，对位姿和广义力的推断也会带有噪声。这种噪声使得实现极高灵敏度的响应——例如极低或极高的刚度——变得不可行。</p></div></blockquote><script>function toggleAlert(e){const t=document.getElementById(e+"-content"),n=document.getElementById(e+"-chevron"),s=t.previousElementSibling;t.classList.contains("hidden")?(t.classList.remove("hidden"),n.style.transform="rotate(0deg)",s.setAttribute("aria-expanded","true")):(t.classList.add("hidden"),n.style.transform="rotate(-90deg)",s.setAttribute("aria-expanded","false"))}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".alert-content.hidden");e.forEach(function(e){const n=e.id.replace("-content",""),t=document.getElementById(n+"-chevron");t&&(t.style.transform="rotate(-90deg)")})})</script></details><h2 id=sft>SFT</h2><h3 id=灾难性遗忘数据量较小或偏离原模型分布模型可能会强行拟合新任务从而覆盖掉原来的语言能力或推理能力>灾难性遗忘:数据量较小或偏离原模型分布，模型可能会强行拟合新任务，从而覆盖掉原来的语言能力或推理能力</h3><ul><li>混合数据训练</li><li>降低学习率，采取Warmup等操作</li><li>Lora微调</li><li>损失函数，KL散度</li></ul><p>本质上就是减少参数更新幅度，减少更新范围，减少分布偏移。</p><p><strong>参数选择：</strong></p><p><strong>不同规模模型的推荐学习率参考 (LoRA/QLoRA)</strong></p><p>以下表格整理了在不同模型规模下，<strong>SFT</strong>（指令微调）与 <strong>DPO</strong>（偏好优化）的推荐学习率区间。</p><table><thead><tr><th style=text-align:left>模型规模 (Model Scale)</th><th style=text-align:left>SFT 推荐 LR (LoRA)</th><th style=text-align:left>DPO 推荐 LR</th><th style=text-align:left>备注 (Notes)</th></tr></thead><tbody><tr><td style=text-align:left><strong>0.5B - 1.8B</strong></td><td style=text-align:left><strong>2e-4 — 5e-4</strong></td><td style=text-align:left><strong>5e-6 — 1e-5</strong></td><td style=text-align:left>模型较小，相对“坚韧”，可以使用较大的步长快速收敛。</td></tr><tr><td style=text-align:left><strong>7B - 8B</strong></td><td style=text-align:left><strong>5e-5 — 1e-4</strong></td><td style=text-align:left><strong>1e-6 — 3e-6</strong></td><td style=text-align:left>主流模型规模（如 Llama 3, Qwen 2.5）。<strong>5e-7</strong> 通常是下限，过低会导致收敛极慢。</td></tr><tr><td style=text-align:left><strong>14B - 32B</strong></td><td style=text-align:left><strong>1e-5 — 5e-5</strong></td><td style=text-align:left><strong>5e-7 — 1e-6</strong></td><td style=text-align:left>参数量较大，即使是 LoRA 也需要非常小心，LR 过大容易导致灾难性遗忘。</td></tr><tr><td style=text-align:left><strong>70B+</strong></td><td style=text-align:left><strong>5e-6 — 1e-5</strong></td><td style=text-align:left><strong>1e-7 — 5e-7</strong></td><td style=text-align:left>极小的步长，通常配合极大的 Batch Size 进行训练。</td></tr></tbody></table><blockquote class="border-primary bg-muted/30 hover:bg-muted/40 my-6 rounded-r-lg border-l-4 py-4 pr-4 pl-6 italic transition-all duration-200 ease-out hover:translate-x-1"><div class="prose prose-sm max-w-none"><p><strong>关键指标参考</strong>：</p><ul><li><strong>GRPO</strong>: 学习率通常建议 <strong>≤ 1e-5</strong> (Full) 或 <strong>5e-5</strong> (LoRA)，Beta 推荐 <strong>0.001</strong>。</li><li><strong>DPO 监控</strong>: 重点关注 <code>rewards/chosen</code>、<code>rewards/rejected</code> 和 <code>rewards/margins</code>。</li></ul></div></blockquote><script>function toggleAlert(e){const t=document.getElementById(e+"-content"),n=document.getElementById(e+"-chevron"),s=t.previousElementSibling;t.classList.contains("hidden")?(t.classList.remove("hidden"),n.style.transform="rotate(0deg)",s.setAttribute("aria-expanded","true")):(t.classList.add("hidden"),n.style.transform="rotate(-90deg)",s.setAttribute("aria-expanded","false"))}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".alert-content.hidden");e.forEach(function(e){const n=e.id.replace("-content",""),t=document.getElementById(n+"-chevron");t&&(t.style.transform="rotate(-90deg)")})})</script><h2 id=dpo>DPO</h2><h3 id=训练过程中重点关注的指标>训练过程中重点关注的指标</h3><table><thead><tr><th style=text-align:left>指标</th><th style=text-align:left>含义与关注点</th><th style=text-align:left>异常情况</th></tr></thead><tbody><tr><td style=text-align:left><strong>Training Loss</strong></td><td style=text-align:left>模型拟合数据的程度。</td><td style=text-align:left>若不下降，可能是学习率太小或数据质量差。</td></tr><tr><td style=text-align:left><strong>Validation Loss</strong></td><td style=text-align:left>泛化能力。</td><td style=text-align:left>若 Train 下降但 Val 上升，说明<strong>过拟合</strong>。</td></tr><tr><td style=text-align:left><strong>Accuracy</strong></td><td style=text-align:left>Chosen 的 Reward > Rejected 的 Reward 的比例。</td><td style=text-align:left>理想应稳步上升至 0.6~0.8。若接近 1.0 可能过拟合。</td></tr><tr><td style=text-align:left><strong>Reward Margin</strong></td><td style=text-align:left>$R_{chosen} - R_{rejected}$ 的差值。</td><td style=text-align:left>应逐渐变大。若 Margin 极小，说明模型分不清好坏。</td></tr></tbody></table><h3 id=dpo数据构造出现样本不均衡的问题怎么办>DPO数据构造出现样本不均衡的问题怎么办？</h3><p>样本不均衡通常指不同类型的 prompt 数量差异大，或者 chosen/rejected 长度、质量分布不一致。</p><ul><li><strong>分层采样 (Stratified Sampling)</strong>：按任务类型（如翻译、代码、逻辑）对数据进行分类，训练时保证每个 batch 内各类别比例均衡。</li><li><strong>加权 Loss (Weighted Loss)</strong>：对稀缺样本类别赋予更高的 Loss 权重，强迫模型关注少样本任务。</li><li><strong>数据增强 (Data Augmentation)</strong>：利用 LLM 改写少样本类别的 prompt，或者通过 Self-Instruct 合成更多同类数据。</li><li><strong>调整 Rejected 采样策略</strong>：如果某些 chosen 回复很难找到好的 rejected（或者 rejected 太强），尝试生成更多样化的负样本（如不同温度采样），确保 margin 有区分度。</li></ul><h3 id=论文翻译任务中遇到的幻觉以及是如何解决的>论文翻译任务中遇到的幻觉以及是如何解决的？</h3><p>在论文翻译这种对“精确度”要求极高的场景下，幻觉往往表现为术语乱译、公式篡改或逻辑扭曲。以下是几个典型案例及其解决方案：</p><h4 id=1术语一致性幻觉-terminology-inconsistency>1：术语一致性幻觉 (Terminology Inconsistency)</h4><ul><li><strong>具体问题</strong>：模型将同一术语在上下文中翻译得不一致，或者出现低级错误（如将 &ldquo;Transformer&rdquo; 翻译成 &ldquo;变压器&rdquo;）。</li><li><strong>解决过程</strong>：<ul><li><strong>问题定位</strong>：发现模型在没有外部约束时，倾向于根据局部语境选择最常见的词汇，而非专业学术词汇。<ul><li><strong>解决方案</strong>：<ul><li><strong>Glossary Injection (提示工程)</strong>：在 Prompt 中动态注入领域术语表（如：<code>{ "Attention Mechanism": "注意力机制" }</code>），强制约束。</li><li><strong>SFT 阶段约束</strong>：在训练数据中加入大量带术语保护的样本，让模型学会尊重特定实体。</li></ul></li></ul></li></ul></li></ul><h4 id=2公式的降维打击-equationlatex-hallucination>2：公式的“降维打击” (Equation/LaTeX Hallucination)</h4><ul><li><strong>具体问题</strong>：在处理 LaTeX 公式时，模型会自作聪明地修改下标、变量名，甚至因为 Markdown 渲染问题丢失反斜杠。</li><li><strong>解决过程</strong>：<ul><li><strong>问题定位</strong>：Tokenizer 对 LaTeX 特殊字符（如 <code>\</code>、<code>_</code>、<code>^</code>）的切分导致模型对公式结构的语义理解出现偏差。</li><li><strong>解决方案</strong>：<ul><li><strong>正则占位符保护</strong>：翻译前用正则匹配公式并替换为占位符（如 <code>&lt;MATH_0></code>），翻译完成后再进行原位回填。</li><li><strong>代码感知微调</strong>：在微调数据中刻意保留复杂的 LaTeX 结构，确保模型将其识别为“不可触碰”的特殊 Toekn。</li></ul></li></ul></li></ul><h4 id=3引用标签丢失-citationlink-hallucination>3：引用标签丢失 (Citation/Link Hallucination)</h4><ul><li><strong>具体问题</strong>：原文中的引用（如 <code>[24, 31]</code>）在译文中消失，导致学术严谨性受损。</li><li><strong>解决过程</strong>：<ul><li><strong>问题定位</strong>：模型认为引用标签是“噪声”，在生成流畅译文时将其忽略。</li><li><strong>解决方案</strong>：<ul><li><strong>Rule-based Reward (RL 阶段)</strong>：在使用 GRPO/PPO 训练时，设计一个"引用一致性奖励函数"。如果译文中的引用标签数量与原文不符，扣除大量 Reward。</li><li><strong>数据清洗</strong>：剔除 SFT 数据集中任何丢失引用标签的 Bad Case。</li></ul></li></ul></li></ul><hr><h3 id=dpo缓解幻觉时反而引入了新的幻觉可能是什么原因>DPO缓解幻觉时，反而引入了新的幻觉，可能是什么原因？</h3><p>在尝试通过 DPO 修复上述幻觉时，有时会发现模型出现了“越对齐越离谱”的情况，主要原因为：</p><ul><li><strong>偏好数据中的“事实性错误”被误选</strong>：<ul><li><strong>现象</strong>：构建数据时，如果 Chosen 回复虽然流畅但包含由模型编造的错误事实（幻觉），而 Rejected 仅仅是因为语气不好主要事实是对的。</li><li><strong>举例</strong>：Chosen 是“Transformer 是由 Google 在 2018 年提出的（此处年份错误，应为 2017）”，而 Rejected 是“Transformer 是 Google 2017 年提出的项目。”，但因为前者句式更漂亮被标为 Chosen。</li><li><strong>后果</strong>：DPO 会强化模型去学习那个“流畅但错误”的陈述，导致新幻觉。</li><li><strong>解决办法</strong>：引入“事实对齐”环节。在数据筛选阶段增加事实性校验（Fact-checking），若 Chosen 存在事实错误，则该 Pair 必须舍弃或修正，不能仅凭语气打分。</li></ul></li><li><strong>过度优化（Over-optimization / Reward Hacking）</strong>：<ul><li><strong>现象</strong>：模型发现“胡说八道”但在格式、长度或语气上极度讨好（Sycophancy）能获得更低的 Loss。</li><li><strong>举例</strong>：偏好数据中 Chosen 往往比 Rejected 长，模型学到了“长=好”的捷径，于是生成了大量毫无意义的修饰词和废话，甚至为了凑字数开始编造细节。</li><li><strong>后果</strong>：特别是 Beta 过小时，模型挣脱了 SFT 的约束，开始放飞自我。</li><li><strong>解决办法</strong>：适当增大 Beta 参数（如从 0.05 调回 0.1），加强对参考模型的约束；同时在数据构造时平衡 Chosen 和 Rejected 的长度分布。</li></ul></li><li><strong>Chosen 和 Rejected 的分布差异过大（OOD）</strong>：<ul><li><strong>现象</strong>：例如 Chosen 是 GPT-4o生成的完美答案，而训练模型很弱。</li><li><strong>举例</strong>：1.8B 的小模型被迫模仿 GPT-4o 的高深逻辑 and 复杂句式，就像小学生模仿博士写论文，虽然语气很像（使用了大量“综上所述”、“显而易见”），但中间的推导逻辑全是错的。</li><li><strong>后果</strong>：模型在 SFT 阶段没见过这么高质量的数据，DPO 强行拉近模型与 32B 的分布，导致模型“不懂装懂”，产生逻辑幻觉。</li><li><strong>解决办法</strong>：先进行高质量的 SFT 让模型“见过世面”，或者采用“由弱到强”的对齐策略，先用与模型能力更接近的优质数据做 DPO 演进。</li></ul></li><li><strong>负样本质量太差</strong>：<ul><li><strong>现象</strong>：如果 Rejected 样本太过于离谱（如乱码、完全不相关），模型很容易区分。</li><li><strong>举例</strong>：Rejected 样本全是 <code>asdfghjkl</code> 或“我不明白你在说什么”。模型只需要学会“不发疯”就能赢过 Rejected，而无法学到“将词语 A 翻译成词语 B 更好”这种细粒度的真实性差异。</li><li><strong>后果</strong>：这种情况下 DPO 训练变得太简单，模型学不到细粒度的“真实性”差异，反而因为梯度更新导致参数漂移。</li><li><strong>解决办法</strong>：构造“困难负样本 (Hard Negatives)”。通过对同一 Prompt 进行多次采样，选择那些逻辑通顺但包含细微错误、或术语使用不当的样本作为 Rejected。</li></ul></li></ul><h3 id=dpo-中的-beta-参数详解>DPO 中的 Beta 参数详解</h3><p><strong>Beta ($\beta$)</strong> 是 KL 散度（KL Divergence）的系数，用于控制<strong>新策略（Policy）与参考策略（Reference Model）之间的偏离程度</strong>。</p><ul><li><strong>Beta 过大 (e.g., > 0.5)</strong>：<ul><li><strong>影响</strong>：对模型的约束极强，模型不敢轻易改变，输出会非常接近 SFT 模型。</li><li><strong>结果</strong>：训练非常稳定，但 Optimization 效果差，模型学不到这一步偏好。</li></ul></li><li><strong>Beta 过小 (e.g., &lt; 0.05)</strong>：<ul><li><strong>影响</strong>：约束太弱，模型为了最大化 Reward 可能会“放飞自我”。</li><li><strong>结果</strong>：容易出现 <strong>Reward Hacking</strong>（例如：生成一堆乱码但长度符合要求，或者开始复读），导致语言能力崩坏，输出可读性下降。</li></ul></li></ul><p><strong>推荐值</strong>：通常在 <strong>0.1</strong> 左右。</p><h2 id=grpo>GRPO</h2><h3 id=grpo-vs-ppo>GRPO vs PPO</h3><ul><li><strong>核心区别</strong>：<ul><li><strong>Critic 模型</strong>：PPO 需要训练一个额外的 Value Network (Critic) 来评估状态价值；<strong>GRPO 不需要 Critic</strong>，它通过同一 Prompt 生成的一组（Group）输出计算 Baseline（例如组内平均分）。</li><li><strong>计算效率</strong>：GRPO 省去了 Critic 模型的显存占用 and 计算量，更适合大模型训练。</li></ul></li><li><strong>为什么 GRPO 更高效</strong>：<ul><li><strong>Group Baseline</strong>：对于推理/数学问题，答案通常只有一个对错。GRPO 通过从群体中对比，能更直接地利用“相对优劣”作为信号，减少方差。</li><li>适合 <strong>Training-free</strong> 场景的进一步优化（如 DeepSeek-R1 的思路）。</li></ul></li></ul><h3 id=grpo奖励函数-reward-function-设计>GRPO奖励函数 (Reward Function) 设计</h3><h4 id=bleu得分越高奖励越大>BLEU：得分越高奖励越大</h4><p>后续可以考虑加入幻觉惩罚，用大模型评估</p><h2 id=训练经验>训练经验</h2><h3 id=核心参数与模型规模对照表>核心参数与模型规模对照表</h3><table><thead><tr><th style=text-align:left>参数维度</th><th style=text-align:left>策略类型</th><th style=text-align:left>小规模模型 (0.5B - 3B)</th><th style=text-align:left>中等规模模型 (7B - 14B)</th><th style=text-align:left>大规模模型 (32B - 70B+)</th></tr></thead><tbody><tr><td style=text-align:left><strong>学习率 (LR)</strong></td><td style=text-align:left>DPO</td><td style=text-align:left>5e−6 ～ 1e−5</td><td style=text-align:left>1e−6 ～ 3e−6</td><td style=text-align:left>1e−7 ～ 1e−6</td></tr><tr><td style=text-align:left></td><td style=text-align:left>GRPO</td><td style=text-align:left>1e−5 ～ 2e−5</td><td style=text-align:left>5e−6 ～ 1e−5</td><td style=text-align:left>1e−6 ～ 5e−6</td></tr><tr><td style=text-align:left><strong>核心系数</strong></td><td style=text-align:left>DPO ($\beta$)</td><td style=text-align:left>0.05 ～ 0.1 (较激进)</td><td style=text-align:left>0.1 (标准)</td><td style=text-align:left>0.1 ～ 0.3 (较保守)</td></tr><tr><td style=text-align:left></td><td style=text-align:left>GRPO (KL)</td><td style=text-align:left>0.001 ～ 0.005</td><td style=text-align:left>0.001</td><td style=text-align:left>0.001 ～ 0.01</td></tr><tr><td style=text-align:left><strong>Batch Size</strong></td><td style=text-align:left>共同趋势</td><td style=text-align:left>较小即可收敛</td><td style=text-align:left>中等</td><td style=text-align:left>必须配合大 Global Batch</td></tr></tbody></table><h3 id=beta--kl-系数的影响指南>Beta / KL 系数的影响指南</h3><table><thead><tr><th style=text-align:left>维度</th><th style=text-align:left>$\beta$ / KL 系数 较小 (例如 DPO 0.01)</th><th style=text-align:left>$\beta$ / KL 系数 较大 (例如 DPO 0.5)</th></tr></thead><tbody><tr><td style=text-align:left><strong>对齐强度</strong></td><td style=text-align:left><strong>强力对齐</strong>：模型会竭尽全力迎合偏好数据。</td><td style=text-align:left><strong>保守对齐</strong>：模型更新缓慢，更倾向于保留 SFT 的能力。</td></tr><tr><td style=text-align:left><strong>模型风险</strong></td><td style=text-align:left><strong>高风险</strong>：容易出现“奖励黑客”，输出可能变得怪异或复读。</td><td style=text-align:left><strong>低风险</strong>：训练稳定，但可能感觉模型“没怎么变”。</td></tr><tr><td style=text-align:left><strong>适用场景</strong></td><td style=text-align:left>偏好数据质量极高、需要模型大幅改变行为。</td><td style=text-align:left>保护模型的基础对话能力、防止推理逻辑崩坏。</td></tr><tr><td style=text-align:left><strong>逻辑表现</strong></td><td style=text-align:left>可能为了符合格式而牺牲逻辑。</td><td style=text-align:left>逻辑更稳健，但对格式的依从性提升较慢。</td></tr></tbody></table><h3 id=实战调参速查表不同工况下的参数干预>实战调参速查表：不同工况下的参数干预</h3><p>当训练出现以下“症状”时，可参考以下“处方”进行参数调整：</p><table><thead><tr><th style=text-align:left>遇到的情况 (Scenario)</th><th style=text-align:left>学习率 (LR) 调整</th><th style=text-align:left>Beta / KL 调整</th><th style=text-align:left>调控原理 (Reasoning)</th></tr></thead><tbody><tr><td style=text-align:left><strong>模型收敛极慢 / Loss 下降不明显</strong></td><td style=text-align:left><strong>⬆️ 适当调大</strong></td><td style=text-align:left>⬇️ 可微调小</td><td style=text-align:left>模型更新动力不足，需要更大的步长；减小 Beta 可放松对参考模型的约束。</td></tr><tr><td style=text-align:left><strong>训练不稳定 / Loss 剧烈震荡</strong></td><td style=text-align:left><strong>⬇️ 减小 (0.5x - 0.1x)</strong></td><td style=text-align:left><strong>⬆️ 调大</strong></td><td style=text-align:left>步长过大导致在最优解附近跳动；增大 Beta 可增强稳定性，防止模型参数剧烈变化。</td></tr><tr><td style=text-align:left><strong>出现幻觉 / 语言能力严重退化</strong> <code>&lt;br></code><em>(灾难性遗忘)</em></td><td style=text-align:left><strong>⬇️ 减小</strong></td><td style=text-align:left><strong>⬆️ 显著调大</strong></td><td style=text-align:left>模型偏离了原始 SFT 分布。增大 Beta/KL 强迫模型保持在 SFT 模型附近，保护基础能力。</td></tr><tr><td style=text-align:left><strong>“奖励黑客” (Reward Hacking)</strong><code>&lt;br></code><em>(分数很高但回复逻辑差/Trick多)</em></td><td style=text-align:left>➖ 保持或微降</td><td style=text-align:left><strong>⬆️ 调大</strong></td><td style=text-align:left>模型为了高分钻了空子。增大 Beta 相当于增加“正则化”惩罚，限制模型走捷径。</td></tr><tr><td style=text-align:left><strong>模型“太顽固” / 对齐效果不明显</strong></td><td style=text-align:left>⬆️ 尝试调大</td><td style=text-align:left><strong>⬇️ 调小</strong></td><td style=text-align:left>约束太强（Beta 过大）或更新太慢（LR 过小）。减小 Beta 允许模型探索与 SFT 差异更大的策略空间。</td></tr><tr><td style=text-align:left><strong>过拟合 (验证集 Loss 上升)</strong></td><td style=text-align:left>⬇️ 减小</td><td style=text-align:left><strong>⬆️ 调大</strong></td><td style=text-align:left>模型开始死记硬背训练数据。增大 Beta 有助于泛化，防止对特定偏好样本过度优化。</td></tr></tbody></table><h3 id=badcase-处理全流程>BadCase 处理全流程</h3><ul><li><strong>归因分析</strong>：<ul><li>是 SFT 没学好（知识缺失）？ -> <strong>补 SFT 数据</strong>。</li><li>是 DPO 跑偏了（幻觉/复读）？ -> <strong>调整 Beta or 检查负样本质量</strong>。</li><li>是 Prompt 不懂指令？ -> <strong>优化 System Prompt</strong>。</li></ul></li><li><strong>数据闭环</strong>：<ul><li>将 BadCase 收集起来，人工修正得到 Correct Answer。</li><li>构造 <code>(Question, Bad_Answer)</code> 作为 Rejected，<code>(Question, Correct_Answer)</code> 作为 Chosen。</li><li>加入微调集进行下一轮迭代。</li></ul></li></ul><h3 id=拓展性思考>拓展性思考</h3><p>有硬性指标的都可以交由Agent去快速迭代</p><p>数据集的质量与分布决定训练的效果；评估数据集的质量非常重要</p></article><div class="post-license bg-muted/30 border-border mb-8 rounded-xl border p-6"><div class="flex items-start gap-4"><div class="bg-primary/10 flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg"><svg class="h-6 w-6" aria-label="许可证" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955.0 0112 2.944a11.955 11.955.0 01-8.618 3.04A12.02 12.02.0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622.0-1.042-.133-2.052-.382-3.016z"/></svg></div><div class="flex-1 min-w-0"><h3 class="text-foreground mb-2 text-lg font-semibold">Copyright Notice</h3><div class="text-muted-foreground space-y-2 text-sm"><p><strong>Author:</strong>
Hugo Narrow</p><p><strong>Link:</strong>
<a href=https://mydocts.github.io/jiatong.github.io/posts/translate/ class="text-primary hover:text-primary/80 transition-colors break-all hyphens-auto duration-200">https://mydocts.github.io/jiatong.github.io/posts/translate/</a></p><p><strong>License:</strong>
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank rel="noopener noreferrer" class="text-primary hover:text-primary/80 transition-colors duration-200">CC BY-NC-SA 4.0</a></p><p class=text-xs>This work is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License. Please attribute the source, use non-commercially, and maintain the same license.</p></div></div></div></div><nav class="post-navigation mb-12" aria-label="Post navigation"><div class="grid grid-cols-1 gap-4 md:grid-cols-2"><div class=nav-item><a href=https://mydocts.github.io/jiatong.github.io/posts/grpo-variants/ class="group bg-card border-border hover:bg-primary/5 hover:border-primary/20 focus:ring-primary/20 flex min-h-[140px] flex-col justify-between rounded-xl border p-6 transition-all duration-300 ease-out hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg focus:ring-2 focus:outline-none"><div><div class="mb-3 flex items-center gap-3"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
<span class="text-muted-foreground text-sm font-medium">Previous</span></div><h3 class="text-foreground group-hover:text-primary mb-3 line-clamp-2 text-lg leading-tight font-semibold transition-colors duration-200">LLM-RL-GRPO-and its Variants</h3></div><div class="text-muted-foreground mt-auto flex items-center gap-2 text-xs"><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg>
<time datetime=2025-12-14>Dec 14</time></div></a></div><div class=nav-item><a href=https://mydocts.github.io/jiatong.github.io/posts/bookmark-framework/ class="group bg-card border-border hover:bg-primary/5 hover:border-primary/20 focus:ring-primary/20 flex min-h-[140px] flex-col justify-between rounded-xl border p-6 transition-all duration-300 ease-out hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg focus:ring-2 focus:outline-none"><div><div class="mb-3 flex items-center justify-end gap-3"><span class="text-muted-foreground text-sm font-medium">Next
</span><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></div><h3 class="text-foreground group-hover:text-primary mb-3 line-clamp-2 text-right text-lg leading-tight font-semibold transition-colors duration-200">NLP-Bookmark-Framework</h3></div><div class="text-muted-foreground mt-auto flex items-center justify-end gap-2 text-xs"><time datetime=2025-12-26>Dec 26
</time><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg></div></a></div></div></nav><section class="related-posts mb-12"><div class="mb-6 flex items-center gap-3"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656.0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656.0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/></svg><h2 class="text-foreground text-2xl font-bold">Related Posts</h2></div><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full"><article class=group><a href=https://mydocts.github.io/jiatong.github.io/posts/grpo-variants/ class=block><div class="bg-card border-border hover:bg-primary/5 hover:border-primary/20 focus:ring-primary/20 flex items-center rounded-xl border p-5 transition-all duration-300 ease-out hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg focus:ring-2 focus:outline-none min-h-[120px]"><h3 class="text-foreground group-hover:text-primary text-lg font-semibold leading-snug line-clamp-3 w-full">LLM-RL-GRPO-and its Variants</h3></div></a></article><article class=group><a href=https://mydocts.github.io/jiatong.github.io/posts/dpo/ class=block><div class="bg-card border-border hover:bg-primary/5 hover:border-primary/20 focus:ring-primary/20 flex items-center rounded-xl border p-5 transition-all duration-300 ease-out hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg focus:ring-2 focus:outline-none min-h-[120px]"><h3 class="text-foreground group-hover:text-primary text-lg font-semibold leading-snug line-clamp-3 w-full">LLM-RL-DPO</h3></div></a></article><article class=group><a href=https://mydocts.github.io/jiatong.github.io/posts/ppo/ class=block><div class="bg-card border-border hover:bg-primary/5 hover:border-primary/20 focus:ring-primary/20 flex items-center rounded-xl border p-5 transition-all duration-300 ease-out hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg focus:ring-2 focus:outline-none min-h-[120px]"><h3 class="text-foreground group-hover:text-primary text-lg font-semibold leading-snug line-clamp-3 w-full">LLM-RL-PPO</h3></div></a></article></div></section></main><footer class="mx-auto max-w-4xl px-4 py-8"><div class="px-6 py-6"><nav class=mb-6><div class="flex flex-wrap items-center justify-center gap-1"><a href=https://mydocts.github.io/jiatong.github.io/about/ class="nav-link hover:text-primary hover:bg-primary/10 text-muted-foreground flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 hover:scale-105"><svg class="h-5 w-5" aria-label="About" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7A4 4 0 118 7a4 4 0 018 0zm-4 7a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>
<span>About
</span></a><a href=https://google.com target=_blank rel="noopener noreferrer" class="nav-link hover:text-primary hover:bg-primary/10 text-muted-foreground flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 hover:scale-105"><svg class="h-5 w-5" aria-label="Contact" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22.0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v10a2 2 0 002 2z"/></svg>
<span>Contact
</span></a><a href=https://mydocts.github.io/jiatong.github.io/index.xml class="nav-link hover:text-primary hover:bg-primary/10 text-muted-foreground flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 hover:scale-105"><svg class="h-5 w-5" aria-label="RSS Feed" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18.0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"/></svg>
<span>RSS Feed</span></a></div></nav><div class="border-border mb-6 border-t"></div><div class="flex flex-col items-center justify-between gap-4 md:flex-row"><div class="text-muted-foreground text-sm text-center md:text-left"><p class=mb-2>&copy; 2026 Jiatong Blog.
All rights reserved.</p><p class="flex flex-wrap items-center justify-center gap-1 md:justify-start"><span>Powered by</span>
<a href=https://gohugo.io/ target=_blank rel="noopener noreferrer" class="text-primary hover:text-primary/80 font-medium transition-colors duration-200 hover:underline">Hugo
</a><span>&</span>
<a href=https://github.com/tom2almighty/hugo-narrow target=_blank rel="noopener noreferrer" class="text-primary hover:text-primary/80 font-medium transition-colors duration-200 hover:underline">Narrow</a></p></div><div class="flex items-center gap-3"><a href=https://github.com/username target=_blank rel="noopener noreferrer" class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=GitHub aria-label=GitHub><svg class="h-6 w-6" aria-label="GitHub" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M15 22v-4a4.8 4.8.0 00-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35.0-3.5.0.0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35.0 3.5A5.4 5.4.0 004 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></g></svg>
</a><a href=https://twitter.com/username target=_blank rel="noopener noreferrer" class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=Twitter aria-label=Twitter><svg class="h-6 w-6" aria-label="Twitter" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1.0 3-1.2 3-1.2"/></svg>
</a><a href=https://linkedin.com/in/username target=_blank rel="noopener noreferrer" class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=LinkedIn aria-label=LinkedIn><svg class="h-6 w-6" aria-label="LinkedIn" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6M2 9h4v12H2z"/><circle cx="4" cy="4" r="2"/></g></svg>
</a><a href=mailto:your.email@example.com class="text-muted-foreground hover:text-primary focus:ring-primary/20 rounded-lg p-1 transition-all duration-300 ease-out hover:scale-110 focus:ring-2 focus:outline-none" title=Email aria-label=Email><svg class="h-6 w-6" aria-label="Email" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22.0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v10a2 2 0 002 2z"/></svg></a></div></div></div></footer><div id=dock class="pointer-events-none fixed bottom-4 left-1/2 z-[9999] w-fit -translate-x-1/2 translate-y-24 opacity-0 transition-all duration-300 ease-out sm:right-0 sm:left-0 sm:mx-auto sm:translate-x-0" data-dock-mode=always role=toolbar aria-label="Quick action toolbar"><nav class="border-border bg-card/80 scrollbar-hide xs:px-3 xs:py-2 mx-auto flex max-w-[calc(100vw-2rem)] min-w-fit items-center justify-center overflow-x-auto rounded-2xl border px-4 py-3 shadow-lg backdrop-blur-sm sm:px-4 sm:py-3"><button id=dock-back class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title=Back aria-label=Back>
<svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
<span class="hidden sm:inline">Back</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-toc class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title="Table of Contents" aria-label="Table of Contents">
<svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg>
<span class="hidden sm:inline">Table of Contents</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-search class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-3 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-4 sm:py-2" title=Search aria-label=Search>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg>
<span class="hidden md:inline">Search</span></button><div class="bg-border xs:mx-1 mx-2 h-6 w-px sm:mx-2"></div><button id=dock-top class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 xs:px-2 xs:py-1.5 flex flex-shrink-0 items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none sm:px-3 sm:py-2" title="Back to Top" aria-label="Back to Top">
<svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m18 15-6-6-6 6"/></svg>
<span class="hidden sm:inline">Top</span></button></nav></div><div id=toc-overlay class="pointer-events-none fixed inset-0 z-40 bg-black/50 opacity-0 backdrop-blur-sm transition-all duration-300" role=dialog aria-modal=true aria-labelledby=toc-title></div><div id=toc-card class="pointer-events-none fixed inset-4 z-50 flex w-auto scale-95 items-center justify-center opacity-0 transition-all duration-300 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:block sm:w-full sm:max-w-md sm:-translate-x-1/2 sm:-translate-y-1/2" role=dialog aria-modal=true aria-labelledby=toc-title><div class="bg-card border-border w-full max-w-sm overflow-hidden rounded-xl border shadow-xl sm:max-w-md"><div class="border-border bg-muted/30 flex items-center justify-between border-b p-4"><div class="flex items-center gap-3"><svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg><h2 id=toc-title class="text-foreground text-lg font-semibold">Table of Contents</h2></div><button id=toc-close class="text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 rounded-lg p-2 transition-all duration-200 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none" title=Close aria-label=Close>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg></button></div><div class="max-h-96 overflow-y-auto p-4"><nav id=toc-nav class=toc-scrollbar aria-label="Table of Contents Navigation"><div id=toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#项目背景>项目背景</a></li><li><a href=#整体流程>整体流程</a></li><li><a href=#数据工程>数据工程</a><ul><li><a href=#数据集构建策略>数据集构建策略</a></li><li><a href=#翻译规范要求>翻译规范要求</a></li><li><a href=#dpo-数据筛选与构建-pair-构造>DPO 数据筛选与构建 (Pair 构造)</a></li></ul></li></ul></li><li><a href=#评估>评估</a><ul><li><a href=#最终结果评估>最终结果评估</a><ul><li><a href=#bleu-计算详解>BLEU 计算详解</a></li></ul></li><li><a href=#效果评估>效果评估</a><ul><li><a href=#bleu-分数对比>BLEU 分数对比</a></li><li><a href=#gsb-人工评估对比>GSB 人工评估对比</a></li></ul></li><li><a href=#过程评估>过程评估</a><ul><li><a href=#效果展示>效果展示</a></li></ul></li></ul></li><li><a href=#sft>SFT</a><ul><li><a href=#灾难性遗忘数据量较小或偏离原模型分布模型可能会强行拟合新任务从而覆盖掉原来的语言能力或推理能力>灾难性遗忘:数据量较小或偏离原模型分布，模型可能会强行拟合新任务，从而覆盖掉原来的语言能力或推理能力</a></li></ul></li><li><a href=#dpo>DPO</a><ul><li><a href=#训练过程中重点关注的指标>训练过程中重点关注的指标</a></li><li><a href=#dpo数据构造出现样本不均衡的问题怎么办>DPO数据构造出现样本不均衡的问题怎么办？</a></li><li><a href=#论文翻译任务中遇到的幻觉以及是如何解决的>论文翻译任务中遇到的幻觉以及是如何解决的？</a><ul><li><a href=#1术语一致性幻觉-terminology-inconsistency>1：术语一致性幻觉 (Terminology Inconsistency)</a></li><li><a href=#2公式的降维打击-equationlatex-hallucination>2：公式的“降维打击” (Equation/LaTeX Hallucination)</a></li><li><a href=#3引用标签丢失-citationlink-hallucination>3：引用标签丢失 (Citation/Link Hallucination)</a></li></ul></li><li><a href=#dpo缓解幻觉时反而引入了新的幻觉可能是什么原因>DPO缓解幻觉时，反而引入了新的幻觉，可能是什么原因？</a></li><li><a href=#dpo-中的-beta-参数详解>DPO 中的 Beta 参数详解</a></li></ul></li><li><a href=#grpo>GRPO</a><ul><li><a href=#grpo-vs-ppo>GRPO vs PPO</a></li><li><a href=#grpo奖励函数-reward-function-设计>GRPO奖励函数 (Reward Function) 设计</a><ul><li><a href=#bleu得分越高奖励越大>BLEU：得分越高奖励越大</a></li></ul></li></ul></li><li><a href=#训练经验>训练经验</a><ul><li><a href=#核心参数与模型规模对照表>核心参数与模型规模对照表</a></li><li><a href=#beta--kl-系数的影响指南>Beta / KL 系数的影响指南</a></li><li><a href=#实战调参速查表不同工况下的参数干预>实战调参速查表：不同工况下的参数干预</a></li><li><a href=#badcase-处理全流程>BadCase 处理全流程</a></li><li><a href=#拓展性思考>拓展性思考</a></li></ul></li></ul></nav></div></nav></div><div class="border-border bg-muted/20 border-t px-4 py-3"><div class="text-muted-foreground text-center text-xs"><span>Click to jump to the section</span></div></div></div></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css integrity=sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js integrity=sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js integrity=sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh crossorigin=anonymous></script><script>function initKaTeX(){if(typeof renderMathInElement=="undefined"){setTimeout(initKaTeX,100);return}var e=[{display:!0,left:"$$",right:"$$"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"},{display:!0,left:"\\[",right:"\\]"}];renderMathInElement(document.body,{delimiters:e,throwOnError:!1,errorColor:"#cc0000",fleqn:!1,leqno:!1,trust:!1})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",initKaTeX):initKaTeX()</script><div id=search-overlay class="pointer-events-none fixed inset-0 z-40 bg-black/50 opacity-0 transition-opacity duration-300"></div><div id=search-modal class="bg-card border-border pointer-events-none fixed top-1/2 left-1/2 z-50 max-h-[80vh] w-full max-w-2xl -translate-x-1/2 -translate-y-1/2 scale-95 transform overflow-hidden rounded-xl border opacity-0 shadow-xl transition-all duration-300"><div class="border-border flex items-center gap-3 border-b p-4"><div class="text-muted-foreground h-5 w-5 flex-shrink-0"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg></div><div class="relative flex-1"><button id=search-clear class="text-muted-foreground hover:text-foreground hover:bg-muted/50 pointer-events-none absolute top-1/2 left-0 z-10 h-5 w-5 -translate-y-1/2 rounded opacity-0 transition-all duration-200" title=Clear aria-label=Clear>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg>
</button>
<input id=search-input type=text placeholder="Search posts..." class="text-foreground placeholder:text-muted-foreground w-full border-none bg-transparent pl-8 text-lg outline-none" autocomplete=off spellcheck=false></div><button id=search-close class="text-muted-foreground hover:text-foreground hover:bg-muted/50 flex h-6 w-6 items-center justify-center rounded-md p-0.5 transition-all duration-200" title=Close aria-label=Close>
<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg></button></div><div id=search-results class="max-h-96 overflow-y-auto"><div id=search-empty class="flex flex-col items-center justify-center py-12 text-center"><div class="bg-muted/50 mb-4 flex h-16 w-16 items-center justify-center rounded-full"><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg></div><h3 class="text-foreground mb-2 text-lg font-semibold">Start searching</h3><p class="text-muted-foreground text-sm">Enter keywords to search articles</p></div><div id=search-loading class="flex hidden items-center justify-center py-8"><div class="mr-3 h-6 w-6 animate-spin rounded-full border-2 border-current border-t-transparent"></div><span class=text-muted-foreground>Searching...</span></div><div id=search-no-results class="flex hidden flex-col items-center justify-center py-12 text-center"><div class="bg-muted/50 mb-4 flex h-16 w-16 items-center justify-center rounded-full"><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"/></svg></div><h3 class="text-foreground mb-2 text-lg font-semibold">No results found</h3><p class="text-muted-foreground text-sm">Try using different keywords</p></div><div id=search-results-list class=hidden><div id=search-stats class="text-muted-foreground border-border border-b px-4 py-3 text-sm" data-template="Found %d results"></div><div id=search-items class="divide-border divide-y"></div></div></div><div class="border-border bg-muted/20 border-t px-4 py-3"><div class="text-muted-foreground flex items-center justify-between text-xs"><div class="flex items-center gap-2 md:gap-4"><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">↑↓</kbd>
<span class="hidden sm:inline">Navigate</span></div><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">↵</kbd>
<span class="hidden sm:inline">Select</span></div><div class="flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">ESC</kbd>
<span class="hidden sm:inline">Close</span></div></div><div class="search-hint-desktop flex items-center gap-1"><kbd class="bg-muted border-border rounded border px-1.5 py-0.5 text-xs">⌘K</kbd>
<span>Shortcut</span></div></div></div></div></body></html>